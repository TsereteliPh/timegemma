"use strict";function get_siblings(t){var s=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&s.push(e),e=e.nextSibling}return s}function slideDown(e){e.style.maxHeight=e.scrollHeight+"px"}function slideToggle(e){0===e.offsetHeight?e.style.maxHeight=e.scrollHeight+"px":e.style.maxHeight=0}function setHeaderScrollClass(){const e=document.querySelector(".header");window.addEventListener("scroll",function(){window.scrollY>=e.offsetHeight?e.classList.add("scroll"):e.classList.remove("scroll")})}function setTelMask(){document.querySelectorAll("input[type='tel']").forEach(t=>{t.setAttribute("inputmode","numeric"),t.addEventListener("keydown",function(e){t.value=function(e){if(!e)return e;e=e.replace(/[^\d]/g,"");if(e.length<3)return"+"+e;if(e.length<6)return`+${e.slice(0,2)} `+e.slice(2);return`+${e.slice(0,2)} ${e.slice(2,5)} `+e.slice(5)}(t.value)}),t.addEventListener("focus",function(e){t.value||(t.value="+")}),t.addEventListener("blur",function(e){"+"===t.value&&(t.value="")})})}function sendForm(){document.querySelectorAll("form[name]").forEach(function(e){"checkout"!==e.name&&e.addEventListener("submit",function(e){e.preventDefault();const t=this;t.classList.add("loader");let s=new FormData(t);var r;"login"===!t.name||"registeration"===!t.name?(e=t.name,r=t.querySelector("input[type=file]"),s.append("action","send_mail"),e&&(s.append("form_name",e),r&&Array.from(r.files).forEach((e,t)=>{s.append(t.toString(),e)}),fetch(adem_ajax.url,{method:"POST",body:s}).then(e=>e.text()).then(e=>{t.classList.remove("loader"),Fancybox.close(!0),t.reset(),t.classList.contains("checkout")||setTimeout(function(){Fancybox.show([{src:"#success",type:"inline"}])},100)}).catch(e=>{console.error("Error:",e)}))):"login"===t.name?(s.append("action","login"),fetch(adem_ajax.url,{method:"POST",body:s}).then(e=>e.json()).then(e=>{t.classList.remove("loader"),"success"==e.status?(Fancybox.close(!0),location.reload()):(t.classList.add("invalid"),e.message&&(t.querySelector(".js-error").textContent=e.message))}).catch(e=>{console.error("Error:",e)})):"registeration"===t.name&&(s.append("action","registeration"),fetch(adem_ajax.url,{method:"POST",body:s}).then(e=>e.json()).then(e=>{t.classList.remove("loader"),"success"==e.status?(Fancybox.close(!0),location.reload()):(t.classList.add("invalid"),e.message&&(t.querySelector(".js-error").textContent=e.message))}).catch(e=>{console.error("Error:",e)}))})})}function setFileName(){var e=document.querySelectorAll("input[type=file]");e&&e.forEach(function(e){e.addEventListener("change",function(e){e.target.nextElementSibling.textContent=e.target.files[0].name})})}function tabs(){var e=document.querySelectorAll(".js-tabs");e&&e.forEach(function(e){var t;(t=e).addEventListener("click",function(r){var o=r.target.closest("li");if(o.classList.contains("active")&&o.parentNode.classList.toggle("open"),!o.classList.contains("active")&&r.target!==t){r=o;let e,t,s=r.dataset.class;t=s?(e=document.querySelectorAll("."+r.dataset.tab),document.querySelector("."+r.dataset.tab).parentNode.parentNode):document.querySelector("#"+r.dataset.tab);r.classList.add("active"),get_siblings(r).forEach(function(e){e.classList.remove("active")}),s?(t.classList.add("observer-trigger"),e.forEach(e=>{e.classList.contains(s)?e.classList.add("active"):e.classList.remove("active")})):(t.classList.add("active"),get_siblings(t).forEach(function(e){e.classList.remove("active")}));r.parentNode.classList.remove("open")}})})}function changeInputQuantity(e,t=0){e=document.querySelector(e);e&&e.addEventListener("click",function(e){var t,s,r,o,n;e.target.classList.contains("quantity__btn")&&(t=e.target.closest(".quantity").querySelector(".quantity__input"),s=parseInt(t.value),r=parseInt(t.getAttribute("min")),o=parseInt(t.getAttribute("max")),n=parseInt(t.getAttribute("step")),e.target.classList.contains("quantity__btn--add")?t.value=o&&o<=s?o:s+n:(r||0==r)&&s-n<=r?t.value=r:1<s&&(t.value=s-n),e=new Event("change",{bubbles:!0,cancelable:!0}),t.dispatchEvent(e))})}function showMorePosts(){var e=document.querySelector(".js-show-more");e&&e.addEventListener("click",function(e){e.stopImmediatePropagation();const t=document.querySelector(".js-show-more-container");this.classList.add("loader");fetch(adem_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"load_more",query:posts,page:current_page})}).then(e=>e.text()).then(e=>{this.classList.remove("loader"),t.insertAdjacentHTML("beforeend",e),++current_page===max_pages&&this.remove()}).catch(e=>{console.error("Error:",e)})})}function wcAddToCart(){var e=document.querySelector(".product__cart");if(e){const r=e.querySelector(".qty");let s;r.addEventListener("change",function(e){const t=this;null!=s&&clearTimeout(s),s=setTimeout(function(){t.closest(".product__cart").querySelector(".btn").click()},1e3)}),e.addEventListener("submit",function(e){e.preventDefault();this.classList.add("loader");e=new FormData(this);e.append("action","wc_add_to_cart"),fetch(adem_ajax.url,{method:"POST",body:e}).then(e=>e.json()).then(e=>{this.classList.remove("loader"),0<e.count?this.classList.add("in-cart"):(this.classList.remove("in-cart"),r.value=1);var t=document.querySelector("#header-cart-counter");t.innerHTML=e.count,0<e.countAll?t.classList.add("active"):t.classList.remove("active")}).catch(e=>{console.error("Error:",e)})})}}function favorites(){const t=document.querySelectorAll(".btn-fav"),s=document.querySelector(".header__favorites-counter");t&&t.forEach(e=>{e.addEventListener("click",function(){this.setAttribute("disabled",!0),this.classList.add("btn-fav--loading"),this.classList.contains("active")?this.classList.contains("active")&&fetch(adem_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"remove_from_favorite",id:this.dataset.id,user:this.dataset.user})}).then(e=>e.json()).then(e=>{this.classList.remove("btn-fav--loading"),this.removeAttribute("disabled"),"success"===e.status&&(0===(s.textContent=e).count&&s.classList.remove("active"),t.forEach(e=>{e.dataset.id===this.dataset.id&&e.classList.remove("active")}))}).catch(e=>{console.error("Error:",e)}):fetch(adem_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"add_to_favorite",id:this.dataset.id,user:this.dataset.user})}).then(e=>e.json()).then(e=>{this.classList.remove("btn-fav--loading"),this.removeAttribute("disabled"),"success"===e.status&&(s.classList.add("active"),s.textContent=e.count,t.forEach(e=>{e.dataset.id===this.dataset.id&&e.classList.add("active")}))}).catch(e=>{console.error("Error:",e)})})})}document.addEventListener("DOMContentLoaded",function(){setHeaderScrollClass(),setFileName(),sendForm(),setTelMask(),tabs(),showMorePosts(),calcBreadcrumbsPadding(),changeInputQuantity(".product__cart"),wcAddToCart(),favorites()});try{Fancybox.bind("[data-fancybox]",{animated:!1}),Fancybox.bind('[data-src="#order-calc"]',{defaultDisplay:"block",dragToClose:!1})}catch(e){console.log(e)}const customProgressbar=function(r,o){let n=r.el.querySelector(o);if(n=n||r.el.parentNode.querySelector(o)){o=n.querySelector(".slider-controls__counter");let e=r.activeIndex+1,t=(1<r.params.slidesPerView&&(e=r.activeIndex+r.params.slidesPerView),0);r.slides.forEach(e=>{e.classList.contains("active")&&t++});r=360/((t=t||r.slides.length)/r.params.grid.rows)*e;let s;s=e<10?"0"+e:e,o.textContent=s,n.style.setProperty("--progressbar-angle",r+"deg")}},welcomeSlider=document.querySelector(".welcome__slider");if(welcomeSlider){let e=new Swiper(welcomeSlider,{slidesPerView:"auto",spaceBetween:0,speed:1400,allowTouchMove:!1,autoplay:{delay:4e3},navigation:{nextEl:".slider-controls__next",prevEl:".slider-controls__prev"},on:{afterInit:function(){customProgressbar(this,".slider-controls__progressbar")},slideChange:function(){customProgressbar(this,".slider-controls__progressbar")}}})}const newReleasesSlider=document.querySelector(".new-releases__slider");if(newReleasesSlider){let e=new Swiper(newReleasesSlider,{slidesPerView:1,spaceBetween:20,observer:!0,navigation:{nextEl:newReleasesSlider.parentNode.querySelector(".slider-controls__next"),prevEl:newReleasesSlider.parentNode.querySelector(".slider-controls__prev")},breakpoints:{1440:{slidesPerView:4},992:{slidesPerView:3},769:{slidesPerView:2},577:{slidesPerView:2}},on:{afterInit:function(){customProgressbar(this,".slider-controls__progressbar")},slideChange:function(){customProgressbar(this,".slider-controls__progressbar")},observerUpdate:function(){this.update(),this.slideTo(0),customProgressbar(this,".slider-controls__progressbar")}}})}const collectionSlider=document.querySelector(".collection-slider");if(collectionSlider){let t=collectionSlider.querySelector(".collection-slider__slider");if(collectionSlider.classList.contains("collection-slider--sorted")){let e=new Swiper(t,{slidesPerView:1,spaceBetween:25,observer:!0,navigation:{nextEl:t.parentNode.querySelector(".slider-controls__next"),prevEl:t.parentNode.querySelector(".slider-controls__prev")},breakpoints:{992:{slidesPerView:2}},on:{afterInit:function(){customProgressbar(this,".slider-controls__progressbar")},slideChange:function(){customProgressbar(this,".slider-controls__progressbar")},observerUpdate:function(){this.update(),this.slideTo(0),customProgressbar(this,".slider-controls__progressbar")}}})}else{let e=new Swiper(t,{slidesPerView:1,spaceBetween:25,navigation:{nextEl:t.parentNode.querySelector(".slider-controls__next"),prevEl:t.parentNode.querySelector(".slider-controls__prev")},breakpoints:{1280:{slidesPerView:3},769:{slidesPerView:2}},on:{afterInit:function(){customProgressbar(this,".slider-controls__progressbar")},slideChange:function(){customProgressbar(this,".slider-controls__progressbar")}}})}}const brandsSlider=document.querySelector(".brands__slider");if(brandsSlider){let e=new Swiper(brandsSlider,{slidesPerView:2,spaceBetween:30,autoplay:{delay:2e3},speed:600,grid:{rows:6,fill:"row"},watchOverflow:!0,navigation:{nextEl:brandsSlider.parentNode.querySelector(".slider-controls__next"),prevEl:brandsSlider.parentNode.querySelector(".slider-controls__prev")},breakpoints:{1440:{slidesPerView:3,spaceBetween:60,grid:{rows:3}},769:{slidesPerView:3,spaceBetween:60,grid:{rows:2}},577:{slidesPerView:4,grid:{rows:3}}},on:{afterInit:function(){customProgressbar(this,".slider-controls__progressbar")},lock:function(){brandsSlider.parentNode.querySelector(".slider-controls").style.display="none"},slideChange:function(){customProgressbar(this,".slider-controls__progressbar")}}})}const productGallerySlider=document.querySelector(".product__gallery");if(productGallerySlider){let e=new Swiper(productGallerySlider,{slidesPerView:"auto",spaceBetween:60,centeredSlides:!0,navigation:{nextEl:".slider-controls__next",prevEl:".slider-controls__prev"},pagination:{el:".swiper-pagination",clickable:!0},on:{afterInit:function(){customProgressbar(this,".slider-controls__progressbar")},slideChange:function(){customProgressbar(this,".slider-controls__progressbar")}},breakpoints:{577:{spaceBetween:85}}})}const mainSliders=document.querySelectorAll(".main-slider"),productList=(mainSliders&&mainSliders.forEach(e=>{new Swiper(e,{slidesPerView:1,centeredSlides:!0,spaceBetween:30,centerInsufficientSlides:!0,watchOverflow:!0,navigation:{nextEl:".slider-controls__next",prevEl:".slider-controls__prev"},on:{afterInit:function(){customProgressbar(this,".slider-controls__progressbar",this.params.slidesPerView)},lock:function(){this.el.querySelector(".slider-controls").style.display="none"},slideChange:function(){customProgressbar(this,".slider-controls__progressbar",this.params.slidesPerView)}},breakpoints:{1501:{slidesPerView:6,centeredSlides:!1},1280:{slidesPerView:5,centeredSlides:!1},992:{slidesPerView:4,centeredSlides:!1},769:{slidesPerView:3,centeredSlides:!1},577:{slidesPerView:2,centeredSlides:!1}}})}),document.addEventListener("DOMContentLoaded",function(e){const t=document.querySelector(".header");if(t){var s=t.querySelector(".header__burger");const r=document.querySelector(".drop");s.onclick=function(){this.classList.toggle("active"),t.classList.toggle("active"),r.classList.toggle("active"),r.classList.contains("active")?document.body.style.overflow="hidden":document.body.style.overflow="visible"}}}),document.querySelector(".product__list"));if(productList){const l0=productList.querySelectorAll(".product__item-button"),m0=()=>{for(var e of l0)e.classList.remove("active"),e.nextElementSibling.style.maxHeight=0};l0.forEach(e=>{e.addEventListener("click",function(){this.classList.contains("active")?m0():(m0(),this.classList.add("active"),slideToggle(this.nextElementSibling))})})}const accountNav=document.querySelector(".account__nav");if(accountNav&&window.innerWidth<=768){const p0=accountNav.querySelector(".account__nav-btn");p0.onclick=()=>{accountNav.classList.toggle("active")}}const modalLogin=document.querySelector(".modal--login");if(modalLogin){const q0=modalLogin.querySelectorAll(".js-tabs li"),r0=modalLogin.querySelectorAll(".modal__login-img");q0.forEach(t=>{t.addEventListener("click",function(){for(var e of r0)e.classList.remove("active");document.querySelector(".modal__login-img--"+t.dataset.tab).classList.add("active")})})}